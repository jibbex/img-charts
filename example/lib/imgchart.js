var v=Object.defineProperty;var s=(t,e)=>v(t,"name",{value:e,configurable:!0});var l=(t,e,h)=>{if(!e.has(t))throw TypeError("Cannot "+h)};var r=(t,e,h)=>(l(t,e,"read from private field"),h?h.call(t):e.get(t)),m=(t,e,h)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,h)},w=(t,e,h,i)=>(l(t,e,"write to private field"),i?i.call(t,h):e.set(t,h),h);import*as u from"echarts";function b(t){switch(t){case"png":return"image/png";case"jpeg":return"image/jpeg";case"svg":return"image/svg+xml";case"webp":return"image/webp";default:throw new Error("Invalid image type")}}s(b,"chartImageTypeToMime");var c,g,a,n,f=(n=class{constructor(e){m(this,c,void 0);m(this,g,void 0);m(this,a,void 0);w(this,g,e),w(this,a,document.createElement("canvas")),w(this,c,u.init(r(this,a))),e.width&&(r(this,a).width=e.width),e.height&&(r(this,a).height=e.height),delete e.width,delete e.height,r(this,c).setOption(e)}update(e){e.width&&(r(this,a).width=e.width),e.height&&(r(this,a).height=e.height),delete e.width,delete e.height,r(this,c).setOption({...r(this,g),...e})}generateImage(e,h){return new Promise((i,I)=>{r(this,a).toBlob(d=>{d?i(d):I(new Error("Failed to generate image"))},b(e),h)})}},c=new WeakMap,g=new WeakMap,a=new WeakMap,s(n,"Chart"),n),j=s(t=>new f(t),"createChart"),x=s(({option:t,type:e,quality:h})=>new f(t).generateImage(e,h),"createChartImage"),p=s(async({option:t,type:e,quality:h})=>{let i=await x({option:t,type:e,quality:h});return URL.createObjectURL(i)},"createChartImgSrc");export{j as createChart,x as createChartImage,p as createChartImgSrc};
